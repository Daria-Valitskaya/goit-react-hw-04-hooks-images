{"version":3,"sources":["Components/Section/Section.module.css","Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/Loader/MyLoader.js","Components/Section/Section.js","Components/errorImage.jpg","Components/ErrorView/Error.js","App.js","index.js"],"names":["module","exports","BASE_URL","KEY","Searchbar","onSubmit","useState","imageName","setImageName","reset","className","event","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","image","onClick","id","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","LoadMoreBtn","onBtnClick","MyLoader","color","height","width","timeout","Component","Section","s","App","ErrorView","textError","role","errorImage","setImages","page","setPage","error","setError","showModal","setShowModal","setLargeImageURL","setTags","status","setStatus","keyword","axios","get","then","response","data","hits","catch","console","log","ApiServise","length","prevState","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","dataset","url","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,IAAM,uB,oKCClBC,EAAW,2BACXC,EAAM,qC,WCAG,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAiBMC,EAAQ,WACZD,EAAa,KAGf,OACE,wBAAQE,UAAU,YAAlB,SACE,uBAAMA,UAAU,aAAaL,SAjBZ,SAACM,GAEpB,GADAA,EAAMC,iBACmB,KAArBL,EAAUM,OAGZ,OAFAC,MAAM,4BACNL,IAGFJ,EAASE,GACTE,KASE,UACE,wBAAQM,KAAK,SAASL,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVK,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOZ,EACPa,SAjCc,SAACT,GACrBH,EAAaG,EAAMU,cAAcF,MAAMG,uBCL5B,SAASC,EAAT,GAA+C,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QACxCC,EAA0CF,EAA1CE,GAAIC,EAAsCH,EAAtCG,aAAcC,EAAwBJ,EAAxBI,KAAMC,EAAkBL,EAAlBK,cAChC,OACE,oBAAInB,UAAU,mBAA4Be,QAASA,EAAnD,SACE,qBACEK,IAAKH,EACLI,IAAKH,EACLlB,UAAU,yBACV,WAAUmB,KALwBH,GCF3B,SAASM,EAAT,GAA4C,IAApBC,EAAmB,EAAnBA,OAAQR,EAAW,EAAXA,QAC7C,OACE,oBAAIf,UAAU,eAAd,SACGuB,EAAOC,KAAI,SAACV,GACX,OACE,cAACD,EAAD,CAAiCE,QAASA,EAASD,MAAOA,GAAnCA,EAAME,SCJvC,IAAMS,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAuC,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACvCC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAgB,SAACjC,GACF,WAAfA,EAAMmC,MACRP,KASJ,OAAOQ,uBACL,qBAAKrC,UAAU,UAAUe,QAPC,SAACd,GACvBA,EAAMU,gBAAkBV,EAAMqC,QAChCT,KAKF,SACE,qBAAK7B,UAAU,QAAf,SAAwB8B,MAE1BL,GC3BW,SAASc,EAAT,GAAsC,IAAfC,EAAc,EAAdA,WACpC,OACE,qBAAKxC,UAAU,aAAf,SACE,wBAAQK,KAAK,SAASU,QAASyB,EAAYxC,UAAU,SAArD,yB,6DCDeyC,E,4JAEnB,WACE,OACE,cAAC,IAAD,CACEpC,KAAK,WACLqC,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,U,GATqBC,a,iBCDvB,SAASC,EAAT,GAAgC,IAAbjB,EAAY,EAAZA,SAChC,OAAO,qBAAK9B,UAAWgD,IAAEC,IAAlB,SAAwBnB,ICJlB,UAA0B,uCCG1B,SAASoB,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UAClC,OACE,sBAAKC,KAAK,QAAV,UACE,qBAAKhC,IAAKiC,EAAYhC,IAAI,UAAUuB,MAAM,QAC1C,4BAAIO,OCIK,SAASF,IACtB,MAA4BrD,mBAAS,IAArC,mBAAO2B,EAAP,KAAe+B,EAAf,KACA,EAAkC1D,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAwBF,mBAAS,GAAjC,mBAAO2D,EAAP,KAAaC,EAAb,KACA,EAA0B5D,mBAAS,MAAnC,mBAAO6D,EAAP,KAAcC,EAAd,KACA,EAAkC9D,oBAAS,GAA3C,mBAAO+D,EAAP,KAAkBC,EAAlB,KACA,EAA0ChE,mBAAS,IAAnD,mBAAOuB,EAAP,KAAsB0C,EAAtB,KACA,EAAwBjE,mBAAS,IAAjC,mBAAOsB,EAAP,KAAa4C,EAAb,KACA,EAA4BlE,mBAAS,QAArC,mBAAOmE,EAAP,KAAeC,EAAf,KAEAjC,qBAAU,WACHlC,IAIHmE,EAAU,WVrBD,SAAoBC,GAAoB,IAAXV,EAAU,uDAAH,EACjD,OAAOW,IACJC,IADI,UAEA3E,EAFA,cAEcyE,EAFd,iBAE8BV,EAF9B,gBAE0C9D,EAF1C,yDAIJ2E,MAAK,SAACC,GAAD,OAAcA,EAASC,KAAKC,QACjCC,OAAM,SAACf,GAAD,OAAWgB,QAAQC,IAAIjB,MUiB5BkB,CAAW9E,EAAW0D,GACnBa,MAAK,SAAC7C,GACL,GAAsB,IAAlBA,EAAOqD,OAGT,OAFAlB,EAAS,oCACTM,EAAU,YAGRzC,EAAOqD,QAAU,KACnBtB,GAAU,SAACuB,GAAD,4BAAmBA,GAAnB,YAAiCtD,OAC3CyC,EAAU,aAGC,IAATT,GACFvB,OAAO8C,SAAS,CACdC,IAAKrD,SAASsD,gBAAgBC,aAC9BC,SAAU,cAIfV,OAAM,SAACf,GACNC,EAAS,+BACTM,EAAU,kBAIf,CAACnE,EAAW0D,IAEf,IAIM4B,EAAc,WAClBvB,GAAcD,IAgBhB,OACE,eAACZ,EAAD,CAAS/C,UAAU,MAAnB,UACE,cAACN,EAAD,CAAWC,SAfE,SAACE,GAChBC,EAAaD,GACb2D,EAAQ,GACRF,EAAU,IACVU,EAAU,cAYI,aAAXD,GACC,qCACE,cAACzC,EAAD,CAAcC,OAAQA,EAAQR,QAXjB,SAACd,GACpB4D,EAAiB5D,EAAMqC,OAAO8C,QAAQC,KACtCvB,EAAQ7D,EAAMqC,OAAOjB,KACrB8D,OASO5D,EAAOqD,QAAU,IAAM,cAACrC,EAAD,CAAaC,WA3BrB,WACtBgB,GAAQ,SAACqB,GAAD,OAAeA,EAAY,KACnCb,EAAU,kBA6BI,YAAXD,GAAwB,cAAC,EAAD,IACb,aAAXA,GAAyB,cAACb,EAAD,CAAWC,UAAWM,IAC/CE,GACC,cAAC/B,EAAD,CAAOC,QAASsD,EAAhB,SACE,qBAAK/D,IAAKD,EAAeE,IAAKH,SCrFxCoE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9D,SAAS+D,eAAe,W","file":"static/js/main.43a300b6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Section_App__35ZFX\"};","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"22530693-10a6882b39438d2f880057b1b\";\n\nexport default function ApiServise(keyword, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits)\n    .catch((error) => console.log(error));\n}\n","import PropTypes from \"prop-types\";\nimport { useState } from \"react\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState(\"\");\n\n  const onInputChange = (event) => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (imageName.trim() === \"\") {\n      alert(\"Please, enter smthk\");\n      reset();\n      return;\n    }\n    onSubmit(imageName);\n    reset();\n  };\n\n  const reset = () => {\n    setImageName(\"\");\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={imageName}\n          onChange={onInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const { id, webformatURL, tags, largeImageURL } = image;\n  return (\n    <li className=\"ImageGalleryItem\" key={id} onClick={onClick}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        data-url={largeImageURL}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      onClose();\n    }\n  };\n  const handleBackDropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackDropClick}>\n      <div className=\"Modal\">{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function LoadMoreBtn({ onBtnClick }) {\n  return (\n    <div className=\"btnWrapper\">\n      <button type=\"button\" onClick={onBtnClick} className=\"Button\">\n        Load More\n      </button>\n    </div>\n  );\n}\n\nLoadMoreBtn.propTypes = {\n  onBtnClick: PropTypes.func.isRequired,\n};\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport PropTypes from \"prop-types\";\nexport default class MyLoader extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\nMyLoader.propTypes = {\n  type: PropTypes.string,\n  color: PropTypes.string,\n  height: PropTypes.number,\n  width: PropTypes.number,\n  timeout: PropTypes.number,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Section.module.css\";\n\nexport default function Section({ children }) {\n  return <div className={s.App}>{children}</div>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/errorImage.331050ce.jpg\";","import PropTypes from \"prop-types\";\nimport errorImage from \"../errorImage.jpg\";\n\nexport default function ErrorView({ textError }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} alt=\"sadTony\" width=\"300\" />\n      <p>{textError}</p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport ApiServise from \"./Components/API\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Modal from \"./Components/Modal/Modal\";\nimport LoadMoreBtn from \"./Components/Button/Button\";\nimport MyLoader from \"./Components/Loader/MyLoader\";\nimport Section from \"./Components/Section/Section\";\nimport ErrorView from \"./Components/ErrorView/Error\";\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [imageName, setImageName] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n    function fetchApiService() {\n      setStatus(\"pending\");\n\n      ApiServise(imageName, page)\n        .then((images) => {\n          if (images.length === 0) {\n            setError(\"Ooops, something went wrong\");\n            setStatus(\"rejected\");\n            return;\n          }\n          if (images.length <= 12) {\n            setImages((prevState) => [...prevState, ...images]);\n            setStatus(\"resolved\");\n          }\n\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => {\n          setError(\"Ooops, something went wrong\");\n          setStatus(\"rejected\");\n        });\n    }\n    fetchApiService();\n  }, [imageName, page]);\n\n  const onLoadMoreClick = () => {\n    setPage((prevState) => prevState + 1);\n    setStatus(\"resolved\");\n  };\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onSubmit = (imageName) => {\n    setImageName(imageName);\n    setPage(1);\n    setImages([]);\n    setStatus(\"pending\");\n  };\n\n  const openBigImage = (event) => {\n    setLargeImageURL(event.target.dataset.url);\n    setTags(event.target.alt);\n    toggleModal();\n  };\n\n  return (\n    <Section className=\"App\">\n      <Searchbar onSubmit={onSubmit} />\n      {status === \"resolved\" && (\n        <>\n          <ImageGallery images={images} onClick={openBigImage} />\n          {images.length >= 12 && <LoadMoreBtn onBtnClick={onLoadMoreClick} />}\n        </>\n      )}\n\n      {status === \"pending\" && <MyLoader />}\n      {status === \"rejected\" && <ErrorView textError={error} />}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt={tags} />\n        </Modal>\n      )}\n    </Section>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}