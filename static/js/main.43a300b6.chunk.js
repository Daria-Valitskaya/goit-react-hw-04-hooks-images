(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{22:function(e,t,n){e.exports={App:"Section_App__35ZFX"}},29:function(e,t,n){},30:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(6),o=n.n(r),i=(n(29),n(9)),s=n(4),l=(n(30),n(18)),u=n.n(l),j="https://pixabay.com/api/",b="22530693-10a6882b39438d2f880057b1b";var d=n(0);function m(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],i=function(){o("")};return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return alert("Please, enter smthk"),void i();t(r),i()},children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}function h(e){var t=e.image,n=e.onClick,c=t.id,a=t.webformatURL,r=t.tags,o=t.largeImageURL;return Object(d.jsx)("li",{className:"ImageGalleryItem",onClick:n,children:Object(d.jsx)("img",{src:a,alt:r,className:"ImageGalleryItem-image","data-url":o})},c)}function O(e){var t=e.images,n=e.onClick;return Object(d.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(d.jsx)(h,{onClick:n,image:e},e.id)}))})}var p=document.querySelector("#modal-root");function f(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(d.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:"Modal",children:n})}),p)}function g(e){var t=e.onBtnClick;return Object(d.jsx)("div",{className:"btnWrapper",children:Object(d.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load More"})})}var v=n(19),x=n(20),S=n(24),w=n(23),k=(n(50),n(21)),y=n.n(k),C=function(e){Object(S.a)(n,e);var t=Object(w.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(d.jsx)(y.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3})}}]),n}(c.Component),N=n(22),F=n.n(N);function E(e){var t=e.children;return Object(d.jsx)("div",{className:F.a.App,children:t})}var I=n.p+"static/media/errorImage.331050ce.jpg";function L(e){var t=e.textError;return Object(d.jsxs)("div",{role:"alert",children:[Object(d.jsx)("img",{src:I,alt:"sadTony",width:"300"}),Object(d.jsx)("p",{children:t})]})}function B(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),l=o[0],h=o[1],p=Object(c.useState)(1),v=Object(s.a)(p,2),x=v[0],S=v[1],w=Object(c.useState)(null),k=Object(s.a)(w,2),y=k[0],N=k[1],F=Object(c.useState)(!1),I=Object(s.a)(F,2),B=I[0],T=I[1],_=Object(c.useState)(""),A=Object(s.a)(_,2),G=A[0],M=A[1],q=Object(c.useState)(""),J=Object(s.a)(q,2),P=J[0],R=J[1],U=Object(c.useState)("idle"),z=Object(s.a)(U,2),D=z[0],H=z[1];Object(c.useEffect)((function(){l&&(H("pending"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u.a.get("".concat(j,"?q=").concat(e,"&page=").concat(t,"&key=").concat(b,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits})).catch((function(e){return console.log(e)}))}(l,x).then((function(e){if(0===e.length)return N("Ooops, something went wrong"),void H("rejected");e.length<=12&&(a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),H("resolved")),1!==x&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){N("Ooops, something went wrong"),H("rejected")})))}),[l,x]);var W=function(){T(!B)};return Object(d.jsxs)(E,{className:"App",children:[Object(d.jsx)(m,{onSubmit:function(e){h(e),S(1),a([]),H("pending")}}),"resolved"===D&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{images:n,onClick:function(e){M(e.target.dataset.url),R(e.target.alt),W()}}),n.length>=12&&Object(d.jsx)(g,{onBtnClick:function(){S((function(e){return e+1})),H("resolved")}})]}),"pending"===D&&Object(d.jsx)(C,{}),"rejected"===D&&Object(d.jsx)(L,{textError:y}),B&&Object(d.jsx)(f,{onClose:W,children:Object(d.jsx)("img",{src:G,alt:P})})]})}o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.43a300b6.chunk.js.map