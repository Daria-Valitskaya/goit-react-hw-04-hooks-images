{"version":3,"sources":["Components/Section/Section.module.css","Components/API.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/Loader/MyLoader.js","Components/Section/Section.js","Components/errorImage.jpg","Components/ErrorView/Error.js","App.js","index.js"],"names":["module","exports","BASE_URL","KEY","ApiServise","keyword","page","axios","get","then","response","data","hits","catch","error","console","log","Searchbar","state","imageName","onInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","alert","reset","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClick","id","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","children","LoadMoreBtn","onBtnClick","MyLoader","color","height","width","timeout","Section","s","App","ErrorView","textError","role","errorImage","showModal","status","fetchApiService","length","prevState","scrollTo","top","documentElement","scrollHeight","behavior","onLoadMoreClick","toggleModal","openBigImage","dataset","url","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0176fb56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Section_App__35ZFX\"};","import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"22530693-10a6882b39438d2f880057b1b\";\n\nexport default function ApiServise(keyword, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}?q=${keyword}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((response) => response.data.hits)\n    .catch((error) => console.log(error));\n}\n","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\n\nexport default class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n  onInputChange = (event) => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Please, enter smthk\");\n      this.reset();\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.onInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  state: PropTypes.object.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ image, onClick }) {\n  const { id, webformatURL, tags, largeImageURL } = image;\n  return (\n    <li className=\"ImageGalleryItem\" key={id} onClick={onClick}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        data-url={largeImageURL}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n};\n","import PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem key={image.id} onClick={onClick} image={image} />\n        );\n      })}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  image: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackDropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackDropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\n\nexport default function LoadMoreBtn({ onBtnClick }) {\n  return (\n    <div className=\"btnWrapper\">\n      <button type=\"button\" onClick={onBtnClick} className=\"Button\">\n        Load More\n      </button>\n    </div>\n  );\n}\n\nLoadMoreBtn.propTypes = {\n  onBtnClick: PropTypes.func.isRequired,\n};\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport PropTypes from \"prop-types\";\nexport default class MyLoader extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\nMyLoader.propTypes = {\n  type: PropTypes.string,\n  color: PropTypes.string,\n  height: PropTypes.number,\n  width: PropTypes.number,\n  timeout: PropTypes.number,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Section.module.css\";\n\nexport default function Section({ children }) {\n  return <div className={s.App}>{children}</div>;\n}\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/errorImage.331050ce.jpg\";","import PropTypes from \"prop-types\";\nimport errorImage from \"../errorImage.jpg\";\n\nexport default function ErrorView({ textError }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} alt=\"sadTony\" width=\"300\" />\n      <p>{textError}</p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import \"./App.css\";\nimport { Component } from \"react\";\nimport ApiServise from \"./Components/API\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Modal from \"./Components/Modal/Modal\";\nimport LoadMoreBtn from \"./Components/Button/Button\";\nimport MyLoader from \"./Components/Loader/MyLoader\";\nimport Section from \"./Components/Section/Section\";\nimport ErrorView from \"./Components/ErrorView/Error\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n\n    imageName: \"\",\n    page: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n    tags: \"\",\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { imageName, page } = this.state;\n    if (prevState.imageName !== imageName) {\n      this.setState({ status: \"pending\" });\n      this.fetchApiService(imageName, page);\n    }\n  }\n\n  fetchApiService = () => {\n    const { imageName, page } = this.state;\n\n    ApiServise(imageName, page)\n      .then((images) => {\n        if (images.length === 0) {\n          this.setState({\n            status: \"rejected\",\n            error: \"Ooops, something went wrong\",\n          });\n\n          return;\n        }\n        if (images.length <= 12) {\n        }\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n          status: \"resolved\",\n        }));\n        if (page !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) =>\n        this.setState({\n          error: \"Ooops, something went wrong\",\n          status: \"rejected\",\n        })\n      );\n  };\n\n  onLoadMoreClick = () => {\n    this.fetchApiService();\n    this.setState({\n      status: \"resolved\",\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  onSubmit = (imageName) => {\n    this.setState({\n      imageName,\n      page: 1,\n      images: [],\n      status: \"pending\",\n    });\n  };\n\n  openBigImage = (event) => {\n    this.setState({\n      largeImageURL: event.target.dataset.url,\n      tags: event.target.alt,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { showModal, largeImageURL, tags, images, status, error } =\n      this.state;\n\n    return (\n      <Section className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} state={this.state} />\n        {status === \"resolved\" && (\n          <>\n            <ImageGallery images={images} onClick={this.openBigImage} />\n            {images.length >= 12 && (\n              <LoadMoreBtn onBtnClick={this.onLoadMoreClick} />\n            )}\n          </>\n        )}\n\n        {status === \"pending\" && <MyLoader />}\n        {status === \"rejected\" && <ErrorView textError={error} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </Section>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}